<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/header.ejs') %>
  <body>
    <%- include('./partials/nav.ejs') %>
    <div class="container mt-4">
      <form action="/" method="POST" id="book-form">
        <div class="form-group">
          <label for="title">Title</label>
          <input
            type="text"
            id="title"
            class="form-control mb-2"
            required
            name="title"
          />
        </div>
        <div class="form-group">
          <label for="author">Author</label>
          <input
            type="text"
            id="author"
            name="author"
            class="form-control mb-2"
          />
        </div>
        <div class="form-group">
          <label for="isbn">ISBN</label>
          <input type="text" id="isbn" name="isbn" class="form-control mb-2" />
        </div>
        <div class="d-flex justify-content-center">
          <input type="submit" value="Add Book" class="btn btn-primary w-100" />
        </div>
        <div class="form-group mt-3">
          <label for="filter">Search by title:</label>
          <input type="text" id="filter" class="form-control mb-2" />
        </div>
      </form>
      <table class="table table-primary table-hover mt-5">
        <thead>
          <tr>
            <th>Title</th>
            <th>Author</th>
            <th>ISBN#</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="book-list">
          <% if (books.length > 0) { books.forEach(book => { %>
          <tr id="<%= book._id %>">
            <td><%= book.title %></td>
            <td><%= book.author %></td>
            <td><%= book.isbn %></td>
            <td>
              <button class="btn btn-danger delete" data-doc="<%= book._id %>">
                Delete
              </button>
            </td>
          </tr>
          <% }); } %>
        </tbody>
      </table>
    </div>
  </body>
</html>
